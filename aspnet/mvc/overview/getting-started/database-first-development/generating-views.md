---
uid: mvc/overview/getting-started/database-first-development/generating-views
title: 'EF Database First с ASP.NET MVC: создание представлений | Документация Майкрософт'
author: tfitzmac
description: С помощью MVC, Entity Framework и формирование шаблонов ASP.NET, можно создать веб-приложение, которое предоставляет интерфейс для существующей базы данных. Этот учебник seri...
ms.author: riande
ms.date: 12/29/2014
ms.assetid: 669367cf-8e30-4eb6-821d-10a7d9bb906c
msc.legacyurl: /mvc/overview/getting-started/database-first-development/generating-views
msc.type: authoredcontent
ms.openlocfilehash: 74c7abdc2d0f8fff9ad769d013fb001e2b9e427b
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/16/2018
ms.locfileid: "41838833"
---
<a name="ef-database-first-with-aspnet-mvc-generating-views"></a>EF Database First с ASP.NET MVC: создание представлений
====================
по [Tom FitzMacken](https://github.com/tfitzmac)

> С помощью MVC, Entity Framework и формирование шаблонов ASP.NET, можно создать веб-приложение, которое предоставляет интерфейс для существующей базы данных. В этой серии руководств показано, как автоматически создавать код, позволяющий пользователям для отображения, изменения и создавать и удалять данные, находящиеся в таблице базы данных. Созданный код соответствует столбцам в таблице базы данных.
> 
> Части этой серии рассматривается создание контроллеров и представлений с помощью формирования шаблонов ASP.NET.


## <a name="add-scaffold"></a>Добавление элемента формирования шаблонов

Все готово для создания кода, который предоставит операций стандартные данные о классах модели. Добавьте код, добавив элемент формирования шаблонов. Существует много параметров для типа параметра формирования шаблонов, которые можно добавить; в этом руководстве каркаса будет включать контроллера и представлений, которые соответствуют Student и регистрации модели, для которых вы создали в предыдущем разделе.

Для поддержания согласованности в проекте, вы добавите новый контроллер для существующего **контроллеров** папки. Щелкните правой кнопкой мыши **контроллеров** и выберите **добавить** — **создать шаблонный элемент**.

![Добавление элемента формирования шаблонов](generating-views/_static/image1.png)

Выберите **контроллер MVC 5 с представлениями, использующий Entity Framework** параметр. Этот параметр будет создавать контроллера и представлений для обновления, удаления, создания и отображения данных в модели.

![Добавьте контроллер mvc](generating-views/_static/image2.png)

Выберите **учащихся** для класс модели и выберите **ContosoUniversityEntities** для класса контекста. Оставьте имя контроллера как **StudentsController**,

![Укажите контроллер](generating-views/_static/image3.png)

Нажмите кнопку **Добавить**.

Если произошла ошибка, возможно, так как вы не создавали проекта в предыдущем разделе. Если это так, попробуйте выполнить сборку проекта и затем снова добавьте элемента формирования шаблонов.

После завершения процесса создания кода в проекте появится новый контроллер и представления.

![Показать представления](generating-views/_static/image4.png)

Снова выполните те же действия, но добавить элемент формирования шаблонов для регистрации класса. После завершения вы получите **EnrollmentsController.cs** файл и папку в узле **представления** с именем **регистрациями** с Create, Delete, сведений, редактирования и индекса Представления.

![Показать представления](generating-views/_static/image5.png)

## <a name="add-links-to-new-views"></a>Добавление ссылок на новые представления

Для упрощения перехода на новые представления, можно добавить несколько гиперссылок в индексе представления для учащихся и регистрации. Откройте файл в **Views/Home/Index.cshtml**, который является домашней страницей для вашего сайта. Добавьте следующий код ниже jumbotron.

[!code-cshtml[Main](generating-views/samples/sample1.cshtml)]

Для метода ActionLink первый параметр является текст, отображаемый в ссылке. Второй параметр — действие, а третий параметр — имя контроллера. Например первая ссылка указывает на действие индекса в StudentsController. Фактический hyperlink создается на основе этих значений. Первую ссылку в конечном счете пользователи открывают **Index.cshtml** файл включен в **представления/учащихся** папки.

## <a name="display-student-views"></a>Отображение представлений учащегося

Вы проверите, что код, добавленный в проект правильно отображает список учащихся и позволяет пользователям изменение, создание или удаление записей учащихся в базе данных.

Щелкните правой кнопкой мыши **Views/Home/Index.cshtml** файла и выберите **просмотреть в браузере**. На этой странице щелкните ссылку для списка учащихся.

![](generating-views/_static/image6.png)

На этой странице Обратите внимание на список учащихся и ссылки, чтобы изменить эти данные.

![список учащихся](generating-views/_static/image7.png)

Нажмите кнопку **Create New** ссылку и ввести некоторые значения для нового учащегося.

![Создание нового учащегося](generating-views/_static/image8.png)

Нажмите кнопку **создать**и обратите внимание, что нового учащегося добавляется в список.

![список с помощью нового учащегося](generating-views/_static/image9.png)

Выберите **изменить** связать и изменить некоторые значения для учащегося.

![Изменение параметров учащегося](generating-views/_static/image10.png)

Нажмите кнопку **Сохранить**и обратите внимание, что запись учащегося была изменена.

Наконец, выберите **удалить** ссылку и убедитесь, что Вы действительно хотите удалить запись, щелкнув **удалить** кнопки.

![удалить учащихся](generating-views/_static/image11.png)

Без написания кода, вы добавили представления, которые выполняют общие операции с данными в таблице учащихся.

Вы заметите, что текстовую метку для поля на основе базы данных свойства (такие как **LastName**) который не обязательно нужно отобразить на веб-странице. Например, вы можете предпочесть метку, которая будет **Фамилия**. Отображение проблема будет решена позже в этом руководстве.

## <a name="display-enrollment-views"></a>Отображение представлений регистрации

Базы данных включает в себя отношение "один ко многим" между таблицами Student и регистрации и отношение "один ко многим" между таблицами Course и Enrollment. Представления для регистрации правильно обрабатывать эти связи. Перейдите на домашнюю страницу сайта и нажмите кнопку **список регистраций** ссылку и затем **Create New** ссылку. Представление отображает форму для создания новой записи регистрации. В частности Обратите внимание на то, что форма содержит два раскрывающихся списков, которые заполняются значениями из связанных таблиц.

![Создание регистрации](generating-views/_static/image12.png)

Кроме того предоставленных значений автоматически применяется проверка зависимости от типа данных поля. Корпоративного уровня с числовым, поэтому сообщение об ошибке отображается при попытке предоставить несовместимое значение.

![сообщение проверки](generating-views/_static/image13.png)

Вы убедились, что автоматически создается представления позволяют пользователям работать с данными в базе данных. В следующем руководстве этой серии будет обновлять базу данных и внесите соответствующие изменения в веб-приложения.

> [!div class="step-by-step"]
> [Назад](creating-the-web-application.md)
> [Вперед](changing-the-database.md)

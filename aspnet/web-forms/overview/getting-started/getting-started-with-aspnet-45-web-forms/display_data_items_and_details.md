---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
title: Отображение элементов данных и сведений | Документация Майкрософт
author: Erikre
description: В этой серии руководств будет основы создания приложений веб-форм ASP.NET с помощью ASP.NET 4.5 и Microsoft Visual Studio Express 2013 для мы...
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 64a491a8-0ed6-4c2f-9c1c-412962eb6006
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
msc.type: authoredcontent
ms.openlocfilehash: 2184c04d5f2361526be0409178dc0a6c665ebc4f
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/16/2018
ms.locfileid: "41828150"
---
<a name="display-data-items-and-details"></a>Отображение элементов данных и сведений
====================
по [Erik Reitan](https://github.com/Erikre)

[Скачайте пример проекта Wingtip Toys (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) или [скачайте электронную книгу (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)

> В этой серии руководств будет основы создания приложений веб-форм ASP.NET с помощью ASP.NET 4.5 и Microsoft Visual Studio Express 2013 для Web. Visual Studio 2013 [проект с исходным кодом C#](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) доступен на следующей странице этой серии руководств.


Это руководство содержит инструкции для отображения элементов данных и сведений об элементе данных, с помощью веб-форм ASP.NET и Entity Framework Code First. Этот учебник основан на предыдущем учебном курсе «И навигация по пользовательскому Интерфейсу» и является частью серии руководств Store Toy Wingtip. Если после завершения данного учебника, вы сможете см. в разделе продуктов на *ProductsList.aspx* страницы, а также сведения о отдельному продукту на *ProductDetails.aspx* страницы.

## <a name="what-youll-learn"></a>Вы узнаете, как:

- Как добавить элемент управления данные для отображения продуктов из базы данных.
- Как подключить элемент управления данные для выбранных данных.
- Как добавить элемент управления данные для отображения сведений о продукте из базы данных.
- Как извлечь значение из строки запроса и использовать это значение, чтобы ограничить данные, которые извлекаются из базы данных.

### <a name="these-are-the-features-introduced-in-the-tutorial"></a>Ниже приведены функции, представленные в этом руководстве.

- Привязка модели
- Поставщики значений

## <a name="adding-a-data-control-to-display-products"></a>Добавление данных элемента управления для отображения продуктов

Во время привязки данных к серверному элементу управления, существует несколько вариантов, которые можно использовать. Основные параметры включают добавление элемента управления источником данных, добавление кода вручную или с помощью привязки модели.

### <a name="using-a-data-source-control-to-bind-data"></a>Использование элемента управления источником данных для привязки данных

Добавление элемента управления источника данных позволяет связать элемент управления источником данных элемент управления, который отображает данные. Такой подход позволяет декларативно серверных элементов управления напрямую подключаться к источникам данных, а не используя программный подход.

### <a name="coding-by-hand-to-bind-data"></a>Кодировании вручную для привязки данных

Добавление кода вручную включает в себя считывания значения, проверки на наличие значения null, попытка преобразовать его к соответствующему типу, проверка, успешно ли выполнено преобразование и наконец, используя значение в запросе. Этот подход следует использовать, когда необходимо сохранить полный контроль над логику доступа к данным.

### <a name="using-model-binding-to-bind-data"></a>С помощью модели привязки для привязки данных

С помощью привязки модели позволяет привязать результаты, используя гораздо меньше кода и дает возможность повторно использовать функциональные возможности во всем приложении. Модель привязки, которая упрощают работу с логики доступа к данным на ориентированный на код, не теряя преимуществ платформы многофункциональных, привязки данных.

## <a name="displaying-products"></a>Отображение продуктов

В этом руководстве вы используете привязки модели для привязки данных. Чтобы настроить элемент управления данные для использования привязки модели для выбора данных, значение элемента управления `SelectMethod` имя метода в код страницы. Элемент управления данными вызывает метод в соответствующее время жизненного цикла страницы и автоматически связывает возвращаемых данных. Нет необходимости явно вызвать `DataBind` метод.

Выполнив следующие действия, вы измените разметку в *ProductList.aspx* странице таким образом, чтобы на странице может отображаться продукты.

1. В **обозревателе решений**откройте *ProductList.aspx* страницы.
2. Замените существующую разметку следующей разметкой:   

    [!code-aspx[Main](display_data_items_and_details/samples/sample1.aspx)]

Этот код использует **ListView** управления с именем «productList» для отображения продуктов.

[!code-aspx[Main](display_data_items_and_details/samples/sample2.aspx)]

**ListView** элемент управления отображает данные в формате, который определяется с помощью шаблонов и стилей. Это полезно для данных в любой повторяющейся структуре. Это **ListView** примере просто отображает данные из базы данных, тем не менее можно разрешить пользователям для редактирования, вставки и удаления данных, а также для сортировки и страницы данных, без написания кода.

Задав `ItemType` свойство в **ListView** управления, выражение привязки данных `Item` доступна и элемент управления становится строго типизированными. Как упоминалось в предыдущем учебном курсе, можно выбрать сведения о элемента объекта, с помощью IntelliSense, например, указать `ProductName`:

![Отображение данных элементов и сведения о — IntelliSense](display_data_items_and_details/_static/image1.png)

Кроме того, при использовании привязки модели для указания `SelectMethod` значение. Это значение (`GetProducts`) будет соответствовать методу, который вы добавите код для отображения продуктов на следующем шаге.

### <a name="adding-code-to-display-products"></a>Добавление кода для отображения продуктов

На этом шаге вы добавите код для заполнения **ListView** элемента управления с данными о продуктах из базы данных. Код будет поддерживать отображение продуктов по отдельной категории, отображающий все продукты.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductList.aspx* и нажмите кнопку **Просмотр кода**.
2. Замените существующий код в *ProductList.aspx.cs* файла следующим кодом:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample3.cs)]

В следующем коде показано `GetProducts` метод, на который ссылается `ItemType` свойство **ListView** контролировать *ProductList.aspx* страницы. Чтобы ограничить результаты для определенной категории в базе данных, код задает `categoryId` значение из значения строки запроса, передаваемые *ProductList.aspx* страницы при *ProductList.aspx* страница Переход к. `QueryStringAttribute` В класс `System.Web.ModelBinding` пространство имен используется для извлечения значения идентификатор переменной строки запроса. Это указывает, что привязка модели к попытке привязать значение из строки запроса для `categoryId` параметра во время выполнения.

При передаче допустимую категорию как строку запроса на страницу, результаты запроса ограничиваются продуктов в базе данных, которые соответствуют `categoryId` значение. Например если URL-адрес *ProductsList.aspx* страницы представляет собой следующее:

[!code-console[Main](display_data_items_and_details/samples/sample4.cmd)]

На странице отображаются только те продукты, где `category` равно `1`.

Если строка запроса не включен, при переходе к *ProductList.aspx* странице отображаются все продукты.

Источники значений для этих методов, называются *значение поставщики* (такие как *QueryString*), и параметр атрибуты, которые указывают, какой поставщик значений для использования, рассматриваются как значение поставщик атрибутов (например, "`id`«). ASP.NET включает в себя поставщики значений и соответствующих атрибутов для всех типичных источников данных, введенных пользователем в приложении Web Forms, такие как строка запроса, файлы cookie, значения формы, элементы управления, состояние представления, состояние сеанса и свойства профиля. Можно также написать пользовательские поставщики значений.

### <a name="running-the-application"></a>Запуск приложения

Запустите приложение и увидеть, как можно просмотреть все продукты или просто набор продуктов, ограниченные по категориям.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *Default.aspx* и укажите **просмотреть в браузере**.  
 Браузер и отобразится *Default.aspx* страницы.
2. Выберите **автомобили** меню навигации категории продукта.  
 *ProductList.aspx* откроется страница отображается только продукты, включенные в категории «Автомобили». Далее в этом руководстве будут отображаться сведения о продукте.  

    ![Отображение данных элементов и сведения о — автомобили](display_data_items_and_details/_static/image2.png)
3. Выберите **продуктов** меню навигации вверху.  
 Опять же *ProductList.aspx* страница отображается, однако в настоящее время он показан весь список продуктов.   

    ![Отображение данных элементов и сведения о — продуктов](display_data_items_and_details/_static/image3.png)
4. Закройте браузер и вернуться в Visual Studio.

### <a name="adding-a-data-control-to-display-product-details"></a>Добавление данных элемента управления для отображения сведений о продукте

Затем вы измените разметку в *ProductDetails.aspx* страницы, добавленный в предыдущем учебном курсе, что страницы можно отображать сведения о отдельному продукту.

1. В **обозревателе решений**откройте *ProductDetails.aspx* страницы.
2. Замените существующую разметку следующей разметкой:   

    [!code-aspx[Main](display_data_items_and_details/samples/sample5.aspx)]

Этот код использует **FormView** управления для отображения сведений о отдельному продукту. Эта разметка использует методы, такие как те, которые используются для отображения данных в *ProductList.aspx* страницы. **FormView** элемент управления используется для отображения одной записи за раз из источника данных. При использовании **FormView** элемента управления, создавать шаблоны для отображения и редактирования значений с привязкой к данным. Шаблоны содержат элементы управления, выражения привязки и форматирования, которые определяют внешний вид и функциональность формы.

Приведенная выше разметка подключиться к базе данных, необходимо добавить дополнительный код для *ProductDetails.aspx* кода.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductDetails.aspx* и нажмите кнопку **Просмотр кода**.  
   *ProductDetails.aspx.cs* будет отображен файл.
2. Замените существующий код следующим кодом:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample6.cs)]

Этот код проверяет наличие "`productID`" значения строки запроса. Если значение допустимым строка запроса обнаруживается, отображается соответствующий продукт. Если найдена строка запроса отсутствует или недопустимое значение строки запроса, программы не отображается на *ProductDetails.aspx* страницы.

### <a name="running-the-application"></a>Запуск приложения

Теперь вы можете запустить приложение, чтобы просмотреть отдельные продукта, отображаемое на основе идентификатора продукта.

1. Нажмите клавишу **F5** при работе в Visual Studio для запуска приложения.  
 Браузер и отобразится *Default.aspx* страницы.
2. Выберите «Лодки» в меню навигации категории.  
 *ProductList.aspx* откроется страница.
3. Выберите продукт «Яхту бумаги» из списка продуктов.  
 *ProductDetails.aspx* откроется страница.   

    ![Отображение данных элементов и сведения о — продуктов](display_data_items_and_details/_static/image4.png)
4. Закройте браузер.

## <a name="summary"></a>Сводка

В этом руководстве из серии имеют добавьте разметку и код для отображения списка продуктов и отображения сведений о продукте. Во время этого процесса вы узнали о строго типизированные элементы управления данными, привязка модели и поставщики значений. В следующем руководстве вы добавите корзины для покупок в пример приложения Wingtip Toys.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Извлечение и отображение данных с помощью привязки модели и веб-форм](../../presenting-and-managing-data/model-binding/retrieving-data.md)

> [!div class="step-by-step"]
> [Назад](ui_and_navigation.md)
> [Вперед](shopping-cart.md)
